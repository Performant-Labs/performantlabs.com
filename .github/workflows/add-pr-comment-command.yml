name: Add PR Comment

on:
  repository_dispatch:
    types: [add-pr-comment-command]  

jobs:
  add_comment:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Add reaction to comment with command
        uses: peter-evans/create-or-update-comment@v3
        with:
          comment-id: ${{ github.event.client_payload.github.payload.comment.id }}
          reaction-type: hooray  

    - name: Create comment
        uses: peter-evans/create-or-update-comment@v3
        with:
          issue-number: 2
          body: |
            This is an automated comment.
          reactions: '+1'
